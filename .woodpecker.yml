# This file is used for woodpecker ci to build and deploy site.

pipeline:
  build:
    image: node:16
    commands:
      - npm install
      - npm run build
      
  deploy:
    image: node:16
    commands:
      - npm install --location=global vercel
      - vercel --token=$VERCEL_TOKEN build --prod --yes
      - vercel --token=$VERCEL_TOKEN deploy --prebuilt --yes
    secrets: [ VERCEL_TOKEN ]